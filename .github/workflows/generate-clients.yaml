name: Generate clients
on: push
jobs:
  generate-clients:
    runs-on: ubuntu-latest
    name: Generate Python client
    steps:
    - uses: actions/checkout@main
    - name: Generate python client
      uses: openapi-generators/openapitools-generator-action@v1
      with:
        generator: python
        openapi-file: openapi/wmata.yaml
  - name: 'Upload python client'
    uses: actions/upload-artifact@v4
    with:
      name: Python source
      path: /github/workspace/python-client
      retention-days: 5